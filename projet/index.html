<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Devis Nettoyage Pro</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        .logo-preview {
            display: none;
            max-width: 150px; /* Ajustez cette valeur selon vos besoins */
            margin-top: 10px;
        }

        .header-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-container h1 {
            flex: 1;
            text-align: center;
        }

        .custom-service-input {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .custom-service-input input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="header-container">
        <!-- Bouton Choisir un fichier -->
        <label class="custom-file-upload" id="upload-text">
            <input type="file" id="logo-input" class="file-input" accept="image/*">
        </label>
        <img id="logo-preview" class="logo-preview" alt="Logo Preview">
        <h1>Devis Nettoyage Pro</h1>
    </div>

    <!-- Informations Entreprise -->
    <h2>Informations Entreprise</h2>
    <div>
        <label for="entrepriseNom">Nom de l'entreprise *</label>
        <input type="text" id="entrepriseNom" required>
    </div>
    <div>
        <label for="siret">SIRET *</label>
        <input type="text" id="siret" maxlength="14" pattern="[0-9]{14}" required>
    </div>
    <div>
        <label for="adresse">Adresse *</label>
        <input type="text" id="adresse" required>
    </div>
    <div>
        <label for="contact">Contact référent</label>
        <input type="text" id="contact">
    </div>

    <!-- Informations Client -->
    <h2>Informations Client</h2>
    <table id="clientTable">
        <tr>
            <th>Nom/Raison sociale *</th>
            <th>Email *</th>
            <th>Téléphone</th>
            <th>Adresse</th>
        </tr>
        <tr>
            <td><input type="text" id="clientNom" required></td>
            <td><input type="email" id="clientEmail" required></td>
            <td><input type="tel" id="clientTel"></td>
            <td><input type="text" id="clientAdresse"></td>
        </tr>
    </table>

    <!-- Prestations -->
    <h2>Prestations</h2>
    <table id="prestationsTable">
        <tr>
            <th>Surface (m²) *</th>
            <th>Services *</th>
            <th>Fréquence</th>
        </tr>
        <tr>
            <td><input type="number" id="surface" required></td>
            <td>
                <select id="services" multiple required>
                    <option value="bureaux">Bureaux</option>
                    <option value="vitres">Vitres</option>
                    <option value="sols">Sols</option>
                    <option value="sanitaires">Sanitaires</option>
                </select>
                <div class="custom-service-input">
                    <input type="text" id="newServiceInput" placeholder="Ajouter un nouveau service">
                    <button type="button" id="addServiceBtn">Ajouter</button>
                </div>
            </td>
            <td>
                <select id="frequence">
                    <option value="quotidien">Quotidienne</option>
                    <option value="hebdomadaire">Hebdomadaire</option>
                    <option value="mensuel">Mensuelle</option>
                    <option value="ponctuel">Ponctuelle</option>
                </select>
            </td>
        </tr>
    </table>

    <!-- Tarification -->
    <h2>Tarification</h2>
    <table id="tarificationTable">
        <tr>
            <th>Prix au m² (€)</th>
            <th>Surface (m²)</th>
            <th>Total HT</th>
            <th>TVA (20%)</th>
            <th>Total TTC</th>
        </tr>
        <tr>
            <td><input type="number" id="prixUnitaire" step="0.01"></td>
            <td><input type="number" id="surfaceTarif"></td>
            <td><span id="totalHT">0.00 €</span></td>
            <td><span id="tva">0.00 €</span></td>
            <td><span id="totalTTC">0.00 €</span></td>
        </tr>
    </table>

   <!-- Paiements et Règlements -->
<h2>Paiements et Règlements</h2>
<table id="paiementsTable">
    <tr>
        <th>Description</th>
        <th>Détails</th>
    </tr>
    <tr>
        <td>Mode de paiement</td>
        <td>
            <select id="modePaiement">
                <option value="">Sélectionnez un mode de paiement</option>
                <option value="virement">Virement bancaire</option>
                <option value="cheque">Chèque</option>
                <option value="carte">Carte bancaire</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>Délai de paiement</td>
        <td>
            <select id="delaiPaiement">
                <option value="">Sélectionnez un délai de paiement</option>
                <option value="reception">À réception</option>
                <option value="30">30 jours</option>
                <option value="45">45 jours</option>
                <option value="60">60 jours</option>
            </select>
        </td>
    </tr>
    <tr>
        <td>Conditions particulières</td>
        <td>
            <textarea id="conditions" rows="4"></textarea>
        </td>
    </tr>
</table>


    <!-- Commentaires -->
    <h2>Commentaires</h2>
    <table id="commentairesTable">
        <tr>
            <th>Commentaires additionnels</th>
        </tr>
        <tr>
            <td><textarea id="commentaires" rows="4"></textarea></td>
        </tr>
    </table>

    <!-- Boutons -->
    <div class="button-container">
        <button type="button" id="enregistrer">Enregistrer</button>
        <button type="button" id="generatePDF">Générer PDF</button>
    </div>

    <!-- Contractualisation -->
    <div class="contractualisation">
        <h2>CONTRACTUALISATION</h2>
        <div>
            <label for="dureeValidite">Durée de validité du contrat :</label>
            <input type="text" id="dureeValidite">
        </div>
        <div class="signature-section">
            <p>Lu et approuvé : </p>
            <textarea id="luApprouve" placeholder="Écrire 'Lu et approuvé' ici..."></textarea>
            <p>Signature : </p>
            <canvas id="signaturePad"></canvas>
        </div>
        <p class="legal">
            Les informations recueillies font l'objet d'un traitement informatique destiné à la gestion de votre contrat. 
            Conformément à la loi « informatique et libertés » du 6 janvier 1978 modifiée, vous bénéficiez d'un droit d'accès 
            et de rectification aux informations qui vous concernent. Pour exercer ce droit, veuillez nous contacter via notre 
            service client.
        </p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.13/jspdf.plugin.autotable.min.js"></script>
    <script src="assets/css/js/uploader.js"></script>
    <script src="assets/css/js/services.js"></script>
    <script src="assets/css/js/calculator.js"></script>
    <script src="assets/css/js/signature.js"></script>
    <script src="assets/css/js/pdf-generator.js"></script>
</body>
</html>